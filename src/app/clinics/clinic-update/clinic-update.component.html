<div class="page-header" *ngIf="userType == 'Super Admin'">
  <div class="col-sm-12">
    <div class="row">
      <div class="col-sm-3 txt-arabic">
        <a *ngIf="userType!='Super Admin'" routerLink="/my-establishments">{{'back_to_clinics_hospitals' |
          translate}}</a>
        <a *ngIf="userType=='Super Admin'" routerLink="/establishments">{{'back_to_clinics_hospitals' | translate}}</a>
      </div>
    </div>
  </div>
</div>

<div class="row" [ngClass]="{'csspinner load1':dataLoader}">
  <div class="col-md-3">
    <div class="edit-pfrl-img-sec" *ngIf="clinicDetail">
      <div class="A-profile">
        <img [src]="logo_image_src" alt="" class="rounded-circle">
        <button type="button" class="btn btn-rounded btn-icon bg-Astral" (click)="nglogofileinput.click()">
          <i class="mdi mdi-camera"></i>
          <input #nglogofileinput type="file" (change)="onChangeLogo($event)" style="display:none;" accept="image/*">
        </button>
      </div>
      <div class="card">
        <div class="card-body p-2 text-center">
          <h6 class="card-title mb-1">{{clinicDetail.clinic_name}}</h6>
          <div class="mb-1"><small>{{clinicDetail.clinic_email}}</small></div>
          <div class="mb-1"><small><i class="mdi mdi-cellphone-android"></i>
              {{clinicDetail.clinic_phone_number}}</small></div>
        </div>
      </div>
    </div>
    <div class="form-group edit-pfrl-img-sec">
      <ul class="nav flex-column nav-pills nav-justified" role="tablist">
        <li class="nav-item text-left">
          <a class="nav-link" [ngClass]="{'active':activeTab=='info'}" id="info-tab" data-toggle="tab" href="#info"
            role="tab" aria-controls="info" aria-selected="true"><i class="mdi mdi-information-variant"></i>
            {{'basic_info' | translate}}</a>
        </li>
        <li class="nav-item text-left">
          <a class="nav-link" [ngClass]="{'active':activeTab=='location'}" id="location-tab" data-toggle="tab"
            href="#location" role="tab" aria-controls="location" aria-selected="false"><i
              class="mdi mdi-map-marker"></i> {{'location' | translate}}</a>
        </li>
        <!-- <li class="nav-item text-left">
          <a class="nav-link" [ngClass]="{'active':activeTab=='documents'}" id="documents-tab" data-toggle="tab" href="#documents" role="tab" aria-controls="documents" aria-selected="false"><i class="mdi mdi-file-document"></i> {{'documents' | translate}}</a>
        </li> -->
        <!-- <li class="nav-item text-left">
          <a class="nav-link" [ngClass]="{'active':activeTab=='gallery'}" id="gallery-tab" data-toggle="tab" href="#gallery" role="tab" aria-controls="gallery" aria-selected="false"><i class="mdi mdi-image-filter"></i> {{'gallery' | translate}}</a>
        </li> -->
        <li class="nav-item text-left">
          <a class="nav-link" [ngClass]="{'active':activeTab=='services'}" id="services-tab" data-toggle="tab"
            href="#services" role="tab" aria-controls="services" aria-selected="false"><i class="mdi mdi-book"></i>
            {{'services' | translate}}</a>
        </li>
        <li class="nav-item text-left">
          <a class="nav-link" [ngClass]="{'active':activeTab=='slot'}" id="slot-tab" data-toggle="tab" href="#slots"
            role="tab" aria-controls="slot" aria-selected="false"><i class="mdi mdi-view-sequential"></i>
            {{'slot_management' | translate}}</a>
        </li>
        <!-- <li class="nav-item text-left">
          <a class="nav-link" [ngClass]="{'active':activeTab=='bank'}" id="bank-tab" data-toggle="tab" href="#bank" role="tab" aria-controls="bank" aria-selected="false"><i class="mdi mdi-bank"></i> {{'bank' | translate}}</a>
        </li> -->
        <!-- <li class="nav-item text-left">
          <a class="nav-link" [ngClass]="{'active':activeTab=='appointments'}" id="appointments-tab" data-toggle="tab" href="#appointments" role="tab" aria-controls="appointments" aria-selected="false"><i class="mdi mdi-calendar-clock"></i> {{'appointments' | translate}}</a>
        </li> -->
        <!-- <li class="nav-item text-left">
          <a class="nav-link" [ngClass]="{'active':activeTab=='patients'}" id="patients-tab" data-toggle="tab" href="#patients" role="tab" aria-controls="patients" aria-selected="false"><i class="mdi mdi-account-multiple"></i> {{'patients' | translate}}</a>
        </li> -->
        <li class="nav-item text-left" *ngIf="userType != 'Doctor'">
          <a class="nav-link" [ngClass]="{'active':activeTab=='doctors'}" id="doctors-tab" data-toggle="tab"
            href="#doctors" role="tab" aria-controls="doctors" aria-selected="false"><i
              class="mdi mdi-account-multiple-outline"></i> {{'doctors' | translate}}</a>
        </li>
      </ul>
    </div>
  </div>
  <div class="col-md-9 intro-sec">
    <div class="tab-content">
      <div class="tab-pane" [ngClass]="{'active':activeTab=='info'}" id="info" role="tabpanel"
        aria-labelledby="info-tab">
        <div class="card">
          <div class="card-body p-2" [ngClass]="{'csspinner load1':infoFormLoader}">
            <div class="card-title">
              <h3>{{'basic_info' | translate}}</h3>
            </div>
            <form [formGroup]="infoForm" (ngSubmit)="onSubmitInfoForm()" #nginfoform="ngForm">
              <div class="form-row">
                <div class="form-group col-md-10">
                  <label>{{'name' | translate}} <span class="symbol required"></span></label>
                  <input type="text" class="form-control" placeholder="{{'enter_name' | translate}}"
                    formControlName="name">
                  <div class="invalid-feedback" *ngIf="infoForm.controls.name.invalid &&
                    (infoForm.controls.name.dirty || infoForm.controls.name.touched || nginfoform.submitted)">
                    <div *ngIf="infoForm.controls.name.errors.required">{{'this_field_is_required' | translate}}</div>
                    <div *ngIf="infoForm.controls.name.errors.minlength">{{'minimum_2_characters_required' | translate}}
                    </div>
                    <div *ngIf="infoForm.controls.name.errors.maxlength">{{'maximum_150_characters_allowed' |
                      translate}}</div>
                  </div>
                </div>
                <div class="form-group col-md-2">
                  <label>{{'status' | translate}} <span class="symbol required"></span></label>
                  <select formControlName="status" class="form-control">
                    <option value="Active">Active</option>
                    <option value="Inactive">Inactive</option>
                  </select>
                  <div class="invalid-feedback" *ngIf="infoForm.controls.status.invalid &&
                    (infoForm.controls.status.dirty || infoForm.controls.status.touched || nginfoform.submitted)">
                    <div *ngIf="infoForm.controls.status.errors.required">{{'this_field_is_required' | translate}}</div>
                  </div>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group col-md-4">
                  <label>{{'email' | translate}} <span class="symbol required"></span></label>
                  <input type="text" class="form-control" placeholder="{{'enter_email' | translate}}"
                    formControlName="email">
                  <div class="invalid-feedback" *ngIf="infoForm.controls.email.invalid &&
                    (infoForm.controls.email.dirty || infoForm.controls.email.touched ||
                    nginfoform.submitted)">
                    <div *ngIf="infoForm.controls.email.errors.required">{{'this_field_is_required' | translate}}</div>
                    <div *ngIf="infoForm.controls.email.errors.email || infoForm.controls.email.errors.pattern">
                      {{'valid_email_is_required' | translate}}</div>
                    <div *ngIf="infoForm.controls.email.errors.maxlength">{{'maximum_100_characters_allowed' |
                      translate}}</div>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <label>{{'phone_number' | translate}} <span class="symbol required"></span></label>
                  <input type="text" class="form-control" placeholder="Enter Phone No." formControlName="phone_number">
                  <div class="invalid-feedback"
                    *ngIf="infoForm.controls.phone_number.invalid &&
                    (infoForm.controls.phone_number.dirty || infoForm.controls.phone_number.touched || nginfoform.submitted)">
                    <div *ngIf="infoForm.controls.phone_number.errors.required">{{'this_field_is_required' | translate}}
                    </div>
                    <div *ngIf="infoForm.controls.phone_number.errors.minlength">{{'minimum_6_characters_required' |
                      translate}}</div>
                    <div *ngIf="infoForm.controls.phone_number.errors.maxlength">{{'maximum_15_characters_allowed' |
                      translate}}</div>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <label>{{'default' | translate}} <span class="symbol required"></span></label>
                  <select formControlName="set_default" class="form-control">
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                  </select>
                  <div class="invalid-feedback"
                    *ngIf="infoForm.controls.set_default.invalid &&
                    (infoForm.controls.set_default.dirty || infoForm.controls.set_default.touched || nginfoform.submitted)">
                    <div *ngIf="infoForm.controls.set_default.errors.required">{{'this_field_is_required' | translate}}
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label>{{'introduction' | translate}} <span class="symbol required"></span></label>
                <textarea class="form-control" formControlName="introduction" rows="3"></textarea>
                <div class="invalid-feedback"
                  *ngIf="infoForm.controls.introduction.invalid &&
                  (infoForm.controls.introduction.dirty || infoForm.controls.introduction.touched || nginfoform.submitted)">
                  <div *ngIf="infoForm.controls.introduction.errors.required">{{'this_field_is_required' | translate}}
                  </div>
                  <div *ngIf="infoForm.controls.introduction.errors.minlength">{{'minimum_20_characters_required' |
                    translate}}</div>
                  <div *ngIf="infoForm.controls.introduction.errors.maxlength">{{'maximum_1000_characters_allowed' |
                    translate}}</div>
                </div>
              </div>
              <div class="form-group">
                <label>{{'work_schedule' | translate}} <span class="symbol required"></span></label>
                <textarea class="form-control" placeholder="{{'enter_work_schedule' | translate}}"
                  formControlName="work_schedule" rows="3"></textarea>
                <div class="invalid-feedback" *ngIf="infoForm.controls.work_schedule.invalid &&
                  (infoForm.controls.work_schedule.dirty || infoForm.controls.work_schedule.touched ||
                  nginfoform.submitted)">
                  <div *ngIf="infoForm.controls.work_schedule.errors.required">{{'this_field_is_required' | translate}}
                  </div>
                  <div *ngIf="infoForm.controls.work_schedule.errors.maxlength">{{'maximum_250_characters_allowed' |
                    translate}}</div>
                </div>
              </div>
              <div class="form-group">
                <label>{{'amenities' | translate}} <small>({{'press_enter_after_each_amenity' |
                    translate}})</small></label>
                <ng-select2 [data]="amenitiesSelect2Data" [options]="amenitiesSelect2Options"
                  formControlName="amenities"></ng-select2>
              </div>
              <hr>
              <div class="form-row">
                <div class="form-group col-md-6 my-auto text-left">
                  {{'fields_marked_with_star_is_required' | translate}}
                </div>
                <div class="form-group col-md-6 text-right">
                  <button type="submit" [disabled]="infoFormLoader" class="btn theme-btn mx-auto">
                    <span [ngClass]="{'spinner-border spinner-border-sm':infoFormLoader}"></span> {{'update' |
                    translate}}
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="tab-pane" [ngClass]="{'active':activeTab=='location'}" id="location" role="tabpanel"
        aria-labelledby="location-tab">
        <div class="card">
          <div class="card-body p-2" [ngClass]="{'csspinner load1':locationFormLoader}">
            <div class="card-title">
              <h3>{{'location' | translate}}</h3>
            </div>
            <form [formGroup]="locationForm" (ngSubmit)="onSubmitLocationForm()" #nglocationform="ngForm">
              <div class="form-row">
                <div class="form-group col-md-3">
                  <label>{{'country' | translate}} <span class="symbol required"></span></label>
                  <input type="text" class="form-control" placeholder="{{'enter_country' | translate}}"
                    formControlName="clinic_country">
                  <div class="invalid-feedback" *ngIf="locationForm.controls.clinic_country.invalid &&
                    (locationForm.controls.clinic_country.dirty || locationForm.controls.clinic_country.touched ||
                    nglocationform.submitted)">
                    <div *ngIf="locationForm.controls.clinic_country.errors.required">{{'this_field_is_required' |
                      translate}}</div>
                    <div *ngIf="locationForm.controls.clinic_country.errors.maxlength">{{'maximum_50_characters_allowed'
                      | translate}}</div>
                  </div>
                </div>
                <div class="form-group col-md-3">
                  <label>{{'state' | translate}} <span class="symbol required"></span></label>
                  <input type="text" class="form-control" placeholder="{{'enter_state' | translate}}"
                    formControlName="clinic_region">
                  <div class="invalid-feedback" *ngIf="locationForm.controls.clinic_region.invalid &&
                    (locationForm.controls.clinic_region.dirty || locationForm.controls.clinic_region.touched ||
                    nglocationform.submitted)">
                    <div *ngIf="locationForm.controls.clinic_region.errors.required">{{'this_field_is_required' |
                      translate}}</div>
                    <div *ngIf="locationForm.controls.clinic_region.errors.maxlength">{{'maximum_50_characters_allowed'
                      | translate}}</div>
                  </div>
                </div>
                <div class="form-group col-md-3">
                  <label>{{'city' | translate}} <span class="symbol required"></span></label>
                  <input type="text" class="form-control" placeholder="{{'enter_city' | translate}}"
                    formControlName="clinic_city">
                  <div class="invalid-feedback" *ngIf="locationForm.controls.clinic_city.invalid &&
                    (locationForm.controls.clinic_city.dirty || locationForm.controls.clinic_city.touched ||
                    nglocationform.submitted)">
                    <div *ngIf="locationForm.controls.clinic_city.errors.required">{{'this_field_is_required' |
                      translate}}</div>
                    <div *ngIf="locationForm.controls.clinic_city.errors.maxlength">{{'maximum_100_characters_allowed' |
                      translate}}</div>
                  </div>
                </div>
                <div class="form-group col-md-3">
                  <label>{{'postal_code' | translate}} <span class="symbol required"></span></label>
                  <input type="text" class="form-control" placeholder="{{'enter_postal_code' | translate}}"
                    formControlName="clinic_postal_code">
                  <div class="invalid-feedback" *ngIf="locationForm.controls.clinic_postal_code.invalid &&
                    (locationForm.controls.clinic_postal_code.dirty || locationForm.controls.clinic_postal_code.touched
                    || nglocationform.submitted)
                  ">
                    <div *ngIf="locationForm.controls.clinic_postal_code.errors.required">{{'this_field_is_required' |
                      translate}}</div>
                    <div *ngIf="locationForm.controls.clinic_postal_code.errors.minlength">
                      {{'minimum_6_characters_required' | translate}}
                    </div>
                    <div *ngIf="locationForm.controls.clinic_postal_code.errors.maxlength">
                      {{'maximum_6_characters_allowed' | translate}}</div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label>{{'address' | translate}} <span class="symbol required"></span></label>
                <input type="text" class="form-control" [value]="address" (keydown.enter)="$event.preventDefault()"
                  placeholder="{{'enter_address' | translate}}" formControlName="clinic_address" autocorrect="off"
                  autocapitalize="off" autocomplete="off" autocomplete="chrome-off" spellcheck="off" type="text" #search
                  autocomplete="new-password">
                <div class="invalid-feedback" *ngIf="locationForm.controls.clinic_address.invalid &&
                  (locationForm.controls.clinic_address.dirty || locationForm.controls.clinic_address.touched ||
                  nglocationform.submitted)">
                  <div *ngIf="locationForm.controls.clinic_address.errors.required">{{'this_field_is_required' |
                    translate}}</div>
                  <div *ngIf="locationForm.controls.clinic_address.errors.maxlength">{{'maximum_250_characters_allowed'
                    | translate}}</div>
                </div>
              </div>
              <div class="form-group">
                <agm-map [latitude]="latitude" [longitude]="longitude" [zoom]="zoom">
                  <agm-marker [latitude]="latitude" [longitude]="longitude" [markerDraggable]="true"
                    (dragEnd)="markerDragEnd($event)"></agm-marker>
                </agm-map>
              </div>
              <div class="form-row" style="display:none">
                <div class="form-group col-md-6">
                  <label>Latitude</label>
                  <input type="text" class="form-control" formControlName="clinic_latitude" [value]="latitude">
                </div>
                <div class="form-group col-md-6">
                  <label>Longitude</label>
                  <input type="text" class="form-control" formControlName="clinic_longitude" [value]="longitude">
                </div>
              </div>
              <hr>
              <div class="form-row">
                <div class="form-group col-md-6 my-auto text-left">
                  {{'fields_marked_with_star_is_required' | translate}}
                </div>
                <div class="form-group col-md-6 text-right">
                  <button type="submit" [disabled]="locationFormLoader" class="btn theme-btn mx-auto">
                    <span [ngClass]="{'spinner-border spinner-border-sm':locationFormLoader}"></span> {{'update' |
                    translate}}
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <!-- <div class="tab-pane" [ngClass]="{'active':activeTab=='documents'}" id="documents" role="tabpanel" aria-labelledby="documents-tab">
        <div class="card">
          <div class="card-body p-2" [ngClass]="{'csspinner load1':documentFormLoader}">
            <div class="card-title"><h3>{{'documents' | translate}}</h3></div>
            <form>
              <ng-container *ngFor="let doc of requiredDocs">
                <div class="form-row border-bottom p-2 mb-3">
                  <div class="form-group col-md-8 my-auto">
                    <label>
                      <i *ngIf="doc.verification_status == 'Verified'" class="mdi mdi-check-decagram text-success mdi-18px"
                        matTooltipClass="primary-tooltip" matTooltip="{{'document_is_verified' | translate}}"></i> {{doc.name}}
                      <span *ngIf="doc.required == 'Yes'" class="symbol required"></span>
                      <div *ngIf="userType != 'Super Admin'"><small class="text-danger">({{doc.description}})</small></div>
                    </label>
                    <div class="custom-file" *ngIf="doc.data.verification_status != 'Verified' && userType != 'Super Admin'">
                      <input type="file" (change)="onChangeDocument($event, doc.key)" accept="image/*" class="custom-file-input">
                      <label class="custom-file-label" for="customFile">{{'choose' | translate}} {{doc.name}}</label>
                    </div>
                    <div class="mt-2">
                      <span class="ml-2" *ngIf="doc.uploaded == 'Yes'">{{'verification_status' | translate}}: <label class="badge" [ngClass]="{'badge-info':doc.verification_status =='Pending','badge-success':doc.verification_status =='Verified','badge-danger':doc.verification_status =='Rejected'}">{{doc.verification_status}}</label></span>
                      <a *ngIf="doc.uploaded == 'Yes' && doc.data.download_url" [href]="doc.data.download_url" class="cp ml-2">
                        <button type="button" class="btn btn-inverse-dark btn-icon">
                          <i class="mdi mdi-download mdi-18px" matTooltipClass="primary-tooltip" matTooltip="{{'download' | translate}}"></i>
                        </button>
                      </a>
                      <button type="button" *ngIf="doc.uploaded == 'Yes' && userType != 'Super Admin' && doc.verification_status == 'Pending'"
                        class="cp btn btn-inverse-dark btn-icon text-danger ml-2" (click)="deleteDocument(doc.data.document_id)"
                      >
                        <i *ngIf="doc.verification_status!='Verified'" class="mdi mdi-delete mdi-18px" matTooltipClass="primary-tooltip" matTooltip="{{'delete' | translate}}"></i>
                      </button>
                      <button type="button" *ngIf="doc.uploaded == 'Yes' && userType == 'Super Admin' && doc.verification_status == 'Pending'"
                        class="cp btn-success ml-2" (click)="updateVerification(doc.data.document_id, 'Verified')"
                      >
                      {{'verify' | translate}} <i class="mdi mdi-check mdi-18px" matTooltipClass="primary-tooltip" matTooltip="{{'verify_this_doc' | translate}}"></i>
                      </button>
                      <button type="button" *ngIf="doc.uploaded == 'Yes' && userType == 'Super Admin' && doc.verification_status == 'Pending'"
                        class="cp btn-danger ml-2" (click)="updateVerification(doc.data.document_id, 'Rejected')"
                      >
                      {{'reject' | translate}} <i class="mdi mdi-close mdi-18px" matTooltipClass="primary-tooltip" matTooltip="{{'reject_this_doc' | translate}}"></i>
                      </button>
                    </div>
                  </div>
                  <div class="form-group col-md-4" *ngIf="doc.data.file_name">
                    <div class="form-row mt-2 mb-2">
                      <div class="border p-1 ml-2 mr-2">
                        <a data-fancybox [attr.data-caption]="doc.name" [href]="doc.data.file_url">
                          <img [src]="doc.data.file_url" alt="" class="img-fluid" style="height: 150px; width: 150px;">
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
              <hr>
              <div class="form-row">
                <div class="form-group col-md-6 my-auto text-left">
                  {{'fields_marked_with_star_is_required' | translate}}
                </div>
                <div class="form-group col-md-6 text-right"></div>
              </div>
            </form>
          </div>
        </div>
      </div> -->
      <!-- <div class="tab-pane" [ngClass]="{'active':activeTab=='gallery'}" id="gallery" role="tabpanel" aria-labelledby="gallery-tab">
        <div class="card">
          <div class="card-body p-2" [ngClass]="{'csspinner load1':galleryFormLoader}">
            <div class="card-title"><h3>{{'gallery' | translate}}</h3></div>
            <form>
              <div class="form-group">
                <label><small class="text-danger">({{'only_jpg_png_files_allowed' | translate}}, {{'file_size_should_not_be_greater_than_2_mb' | translate}})</small>
                </label>
                <div class="custom-file">
                  <input #nggalleryfileinput type="file" (change)="onChangeGalleryImages($event)" accept="image/*"
                    class="custom-file-input" multiple>
                  <label class="custom-file-label" for="customFile">{{'choose_image' | translate}}</label>
                </div>
              </div>
              <div class="row">
                <div class="img-item item p-3 text-center" *ngFor="let attachment of clinicAttachments; let i = index">
                  <button type="button" class="btn btn-outline-secondary btn-rounded btn-icon img-delete">
                    <i class="mdi mdi-delete mdi-18px" (click)="deleteGalleryImage(attachment.id, i)"></i>
                  </button>
                  <a class="lightbox" data-fancybox="gallery" [href]="attachment.file_url">
                    <img class="img-fluid image scale-on-hover img-ele" [src]="attachment.file_url">
                  </a>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div> -->
      <div class="tab-pane" [ngClass]="{'active':activeTab=='services'}" id="services" role="tabpanel"
        aria-labelledby="services-tab">
        <div class="card">
          <div class="card-body p-2 table-responsive" [ngClass]="{'csspinner load1':serviceDataLoader}">
            <div class="card-title">
              <h3>{{'services' | translate}}</h3>
            </div>
            <table class="table table-hover">
              <thead>
                <tr class="text-center">
                  <th>{{'service' | translate}}</th>
                  <th>{{'type' | translate}}</th>
                  <th>{{'fee' | translate}}</th>
                  <th>{{'status' | translate}}</th>
                  <th>{{'action' | translate}}</th>
                </tr>
              </thead>
              <tbody>
                <ng-container *ngIf="services.length">
                  <tr class="text-center" *ngFor="let service of services; let i = index;">
                    <td>{{service.title}}</td>
                    <td>{{service.service_type}}</td>
                    <td>{{service.service_fee}}</td>
                    <td>{{service.status}}</td>
                    <td>
                      <div class="icon-block">
                        <a class="cp" (click)="openServiceUpdateForm(service.service_id, i)" matTooltip="Update"
                          matTooltipClass="primary-tooltip">
                          <i class="mdi mdi-pencil b-blue" aria-hidden="true"></i>
                        </a>
                      </div>
                    </td>
                  </tr>
                </ng-container>
                <ng-container *ngIf="!services.length">
                  <tr class="text-center">
                    <td colspan="5">
                      <div class="alert alert-danger">{{'no_data_found' | translate}}</div>
                    </td>
                  </tr>
                </ng-container>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="tab-pane" [ngClass]="{'active':activeTab=='slots'}" id="slots" role="tabpanel"
        aria-labelledby="slots-tab">
        <div class="card">
          <div class="card-body p-2 table-responsive" [ngClass]="{'csspinner load1':serviceDataLoader}">
            <div class="card-title">
              <h3>{{'slot_management' | translate}}</h3>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-body p-2 table-responsive" [ngClass]="{'csspinner load1':serviceDataLoader}">
            <div class="card-title">
              <div class="container" [formGroup]="slotManagementForm">
                <div formArrayName="slotManagementFormArray"
                  *ngFor="let item of slotManagementForm.get('slotManagementFormArray')['controls']; let i = index;">
                  <div class="row" [formGroupName]="i">
                    <div class="form-group col-4">
                      <label>{{'slot_date' | translate}} <small>(D/M/Y)</small><span
                          class="symbol required"></span></label>
                      <input [matDatepicker]="myDatepicker" class="form-control" [min]="minDate" [max]='maxDate'
                        (focus)="myDatepicker.open()" formControlName="slotDate" required
                        placeholder="{{'slot_date' | translate}}">
                      <mat-datepicker-toggle [for]="myDatepicker" class="mat-dt-pic"></mat-datepicker-toggle>
                      <mat-datepicker #myDatepicker></mat-datepicker>

                      <div class="invalid-feedback" *ngIf="slotSubmmited && item['controls'].slotDate?.errors">
                        <div *ngIf="item['controls'].slotDate?.errors.required">
                          {{'this_field_is_required' | translate}}</div>
                      </div>
                    </div>
                    <div class="form-group col-3">
                      <label>{{'slot_from_time' | translate}} <small>(HH:MM a)</small> <span
                          class="symbol required"></span></label>
                      <input type="time" class="form-control" formControlName="slotFromTime" placeholder="From Time"
                        autocomplete="off" min="06:00 am" max="11:59 am" (change)="slotTimeChangeEvent(i,'from')">
                      <div class="invalid-feedback" *ngIf="slotSubmmited && item['controls'].slotFromTime?.errors">
                        <div *ngIf="item['controls'].slotFromTime?.errors.required">
                          {{'this_field_is_required' | translate}}</div>
                      </div>
                      <div class="invalid-feedback" *ngIf="item['controls'].slotFromTime?.value">
                        <div *ngIf="item['controls'].slotFromTime?.value">
                          <div *ngIf="validateCheckSlotFromTime" style="font-size: 12px;">{{validateCheckTimeString}}
                          </div>
                          <div *ngIf="validateCheckSameTime" style="font-size: 12px;">{{validateCheckTimeString}}</div>
                        </div>
                      </div>
                    </div>
                    <div class="form-group col-3">
                      <label>{{'slot_to_time' | translate}} <small>(HH:MM a)</small> <span
                          class="symbol required"></span></label>
                      <input type="time" class="form-control" formControlName="slotToTime"
                        (change)="slotTimeChangeEvent(i , 'to')" placeholder="From Time" autocomplete="off"
                        min="06:00 am" max="11:59 am">
                      <div class="invalid-feedback" *ngIf="slotSubmmited && item['controls'].slotToTime?.errors">
                        <div *ngIf="item['controls'].slotToTime?.errors.required">
                          {{'this_field_is_required' | translate}}</div>
                      </div>
                      <div class="invalid-feedback" *ngIf="item['controls'].slotToTime?.value">
                        <div *ngIf="validateCheckSlotToTime" style="font-size: 12px;">{{validateCheckTimeString}}</div>
                        <div *ngIf="validateCheckSameTime" style="font-size: 12px;">{{validateCheckTimeString}}</div>
                      </div>
                    </div>
                    <div class="form-group col-2 d-flex">
                      <a class="cp icon-block" style="width: 45px !important;" matTooltip="{{'delete' | translate}}"
                        matTooltipClass="primary-tooltip" (click)="onDeleteItem(i,$event)">
                        <i class="mdi mdi-delete b-brown" aria-hidden="true"></i>
                      </a>
                      <a class="cp mt-1" matTooltip="{{'add' | translate}}"
                        *ngIf="item['controls'].slotDate.value && item['controls'].slotFromTime.value && item['controls'].slotToTime.value"
                        matTooltipClass="primary-tooltip" (click)="onAddExistingDateItem(item,i,$event)">
                        <i class="mdi mdi-plus-circle mr-1" style="font-size: 32px;"></i>
                      </a>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-8"></div>
                  <div class="form-group col-md-2">
                    <button type="submit" class="btn theme-btn mx-auto" (click)="addSlotItem()">Add
                    </button>
                  </div>
                  <div class="form-group col-md-2">
                    <button type="submit" [disabled]="slotFormLoader" class="btn theme-btn mx-auto"
                      (click)="onSubmitSlotForm()">
                      <span [ngClass]="{'spinner-border spinner-border-sm':slotFormLoader}"></span> Save
                    </button>
                  </div>
                </div>
                <div class="card-title">
                  <div class="row">
                    <div class="col-md-12">
                      <!-- <h3>{{'slot_management' | translate}} </h3> -->
                    </div>
                  </div>
                </div>
                <table class="table table-hover">
                  <thead>
                    <tr class="text-center">
                      <th>{{'slot_date' | translate}}</th>
                      <th>{{'slot_from_time' | translate}}</th>
                      <th>{{'slot_to_time' | translate}}</th>
                      <th>{{'action' | translate}}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="text-center" *ngFor="let slot of slots; let i = index;">
                      <td>{{slot.date}}</td>
                      <td>{{slot.from_time}}</td>
                      <td>{{slot.to_time}}</td>
                      <td>
                        <div class="icon-block">
                          <a class="cp" (click)="onDeleteSlot(slot.id)" matTooltip="{{'delete' | translate}}"
                            matTooltipClass="primary-tooltip">
                            <i class="mdi mdi-delete b-brown" aria-hidden="true"></i>
                          </a>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>

              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="tab-pane" [ngClass]="{'active':activeTab=='bank'}" id="bank" role="tabpanel" aria-labelledby="bank-tab">
        <div class="card">
          <div class="card-body p-2 table-responsive" [ngClass]="{'csspinner load1':bankDataLoader}">
            <div class="card-title">
              <div class="row">
                <div class="col-md-12">
                  <h3>{{'banks' | translate}} <button type="button" class="btn theme-btn btn-sm" (click)="openBankAddForm()"
                    matTooltip="{{'add_bank' | translate}}" matTooltipClass="primary-tooltip"
                  >
                    <i class="mdi mdi-plus-circle mr-1"></i>
                  </button></h3>
                </div>
              </div>
            </div>
            <table class="table table-hover">
              <thead>
                <tr class="text-center">
                  <th>{{'bank_name' | translate}}</th>
                  <th>{{'name' | translate}}</th>
                  <th>{{'account_number' | translate}}</th>
                  <th>{{'default' | translate}}</th>
                  <th>{{'action' | translate}}</th>
                </tr>
              </thead>
              <tbody>
                <tr class="text-center"
                  *ngFor="let bank of banks; let i = index;"
                >
                  <td>{{bank.bank_name}}</td>
                  <td>{{bank.account_holder_name}}</td>
                  <td>{{bank.account_number}}</td>
                  <td>{{bank.is_default}}</td>
                  <td>
                    <div class="icon-block">
                      <a class="cp" *ngIf="bank.is_default=='No'" (click)="onDeleteBank(bank.bank_id,i)"
                          matTooltip="{{'delete' | translate}}" matTooltipClass="primary-tooltip">
                        <i class="mdi mdi-delete b-brown" aria-hidden="true"></i>
                      </a>
                      <a class="cp" *ngIf="bank.is_default=='No'" (click)="setDefaultBank(bank.bank_id, bank.clinic_id)"
                        matTooltip="{{'set_default' | translate}}" matTooltipClass="primary-tooltip">
                        <i class="mdi mdi-bank b-blue" aria-hidden="true"></i>
                      </a>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div> -->
      <!-- <div class="tab-pane" [ngClass]="{'active':activeTab=='appointments'}" id="appointments" role="tabpanel" aria-labelledby="appointments-tab">
        <app-appointments></app-appointments>
      </div> -->
      <!-- <div class="tab-pane" [ngClass]="{'active':activeTab=='patients'}" id="patients" role="tabpanel" aria-labelledby="patients-tab">
        <app-patients></app-patients>
      </div> -->
      <div class="tab-pane" [ngClass]="{'active':activeTab=='doctors'}" id="doctors" role="tabpanel"
        aria-labelledby="doctors-tab" *ngIf="userType != 'Doctor'">
        <app-doctors></app-doctors>
      </div>
    </div>
  </div>
</div>

<div class="modal fade actionModal" id="addUpdateServiceFormModal" tabindex="-1" role="dialog"
  aria-labelledby="addUpdateServiceFormModal" aria-hidden="true" data-backdrop="static">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content bg-white" [ngClass]="{'csspinner load1':serviceFormLoader}">
      <div class="modal-header">
        <h4 class="modal-title">{{'service' | translate}}</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form [formGroup]="addUpdateServiceForm" (ngSubmit)="onSubmitAddUpdateServiceForm()"
        #ng_add_update_service_form="ngForm">
        <div class="modal-body">
          <div class="container">
            <div class="form-group">
              <label>{{'service' | translate}} <span class="symbol required"></span></label>
              <input type="text" class="form-control" placeholder="{{'service' | translate}}" formControlName="title">
              <div class="invalid-feedback"
                *ngIf="addUpdateServiceForm.controls.title.invalid &&
                (addUpdateServiceForm.controls.title.dirty || addUpdateServiceForm.controls.title.touched || ng_add_update_service_form.submitted)">
                <div *ngIf="addUpdateServiceForm.controls.title.errors.required">{{'this_field_is_required' |
                  translate}}</div>
                <div *ngIf="addUpdateServiceForm.controls.title.errors.minlength">{{'minimum_2_characters_required' |
                  translate}}</div>
                <div *ngIf="addUpdateServiceForm.controls.title.errors.maxlength">{{'maximum_200_characters_allowed' |
                  translate}}</div>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-md-4">
                <label>{{'type' | translate}} <span class="symbol required"></span></label>
                <select class="form-control" formControlName="service_type">
                  <option value="">{{'choose_service_type' | translate}}</option>
                  <option *ngFor="let serviceType of serviceTypes" [value]="serviceType">{{serviceType}}</option>
                </select>
                <div class="invalid-feedback"
                  *ngIf="addUpdateServiceForm.controls.service_type.invalid &&
                  (addUpdateServiceForm.controls.service_type.dirty || addUpdateServiceForm.controls.service_type.touched || ng_add_update_service_form.submitted)">
                  <div *ngIf="addUpdateServiceForm.controls.service_type.errors.required">{{'this_field_is_required' |
                    translate}}</div>
                </div>
              </div>
              <div class="form-group col-md-4">
                <label>{{'fee' | translate}} <span class="symbol required"></span></label>
                <input type="text" class="form-control strict_numeric" placeholder="{{'fee' | translate}}"
                  formControlName="service_fee">
                <div class="invalid-feedback"
                  *ngIf="addUpdateServiceForm.controls.service_fee.invalid &&
                  (addUpdateServiceForm.controls.service_fee.dirty || addUpdateServiceForm.controls.service_fee.touched || ng_add_update_service_form.submitted)">
                  <div *ngIf="addUpdateServiceForm.controls.service_fee.errors.required">{{'this_field_is_required' |
                    translate}}</div>
                  <div *ngIf="addUpdateServiceForm.controls.service_fee.errors.maxlength">
                    {{'maximum_8_characters_allowed' | translate}}</div>
                </div>
              </div>
              <div class="form-group col-md-4">
                <label>{{'status' | translate}} <span class="symbol required"></span></label>
                <select class="form-control" formControlName="status">
                  <option value="Active">Active</option>
                  <option value="Inactive">Inactive</option>
                </select>
                <div class="invalid-feedback"
                  *ngIf="addUpdateServiceForm.controls.status.invalid &&
                  (addUpdateServiceForm.controls.status.dirty || addUpdateServiceForm.controls.status.touched || ng_add_update_service_form.submitted)">
                  <div *ngIf="addUpdateServiceForm.controls.status.errors.required">{{'this_field_is_required' |
                    translate}}</div>
                </div>
              </div>
            </div>
            <div class="form-row" formArrayName="items">
              <ng-container
                *ngFor="let item of addUpdateServiceFormItemsArray.controls; let i=index; let first = first; let last = last"
                [formGroupName]="i">
                <div class="form-group col-md-2 my-auto">
                  <label>{{item.value.title}} <span class="symbol required"></span></label>
                  <input type="text" class="form-control" formControlName="title" style="display: none;">
                </div>
                <div class="form-group col-md-5">
                  <input type="text" class="form-control strict_numeric" placeholder="Limit" formControlName="limit">
                </div>
                <div class="form-group col-md-5">
                  <input type="text" class="form-control strict_numeric" placeholder="Fee"
                    formControlName="service_fee">
                </div>
              </ng-container>
            </div>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label>{{'image' | translate}}
                  <div class="text-danger">
                    <div><small>{{'only_jpg_png_files_allowed' | translate}}</small></div>
                    <div><small>{{'file_size_should_not_be_greater_than_2_mb' | translate}}</small></div>
                  </div>
                </label>
                <div class="custom-file">
                  <input #ng_service_image_input type="file" (change)="onChangeServiceImage($event)" accept="image/*"
                    class="custom-file-input">
                  <label class="custom-file-label" for="customFile">{{'choose_image' | translate}}</label>
                </div>
              </div>
              <div class="form-group col-md-6 text-center" *ngIf="serviceImageSrc">
                <div class="img-item">
                  <button *ngIf="!this.service_id" type="button"
                    class="btn btn-outline-secondary btn-rounded btn-icon img-delete">
                    <i class="mdi mdi-delete mdi-18px" (click)="clearServiceImage()"></i>
                  </button>
                  <button *ngIf="this.service_id" type="button"
                    class="btn btn-outline-secondary btn-rounded btn-icon img-delete">
                    <i class="mdi mdi-delete mdi-18px" (click)="deleteServiceMedia()"></i>
                  </button>
                  <img [src]="serviceImageSrc" alt="image" class="img-ele img-fluid">
                </div>
              </div>
            </div>
            <!-- <div class="form-group">
              <label>Instruction <span class="symbol required"></span></label>
              <textarea class="form-control" formControlName="instructions"></textarea>
              <div class="invalid-feedback" *ngIf="addUpdateServiceForm.controls.instructions.invalid &&
                (addUpdateServiceForm.controls.instructions.dirty || addUpdateServiceForm.controls.instructions.touched || ng_add_update_service_form.submitted)"
              >
                <div *ngIf="addUpdateServiceForm.controls.instructions.errors.required">{{'this_field_is_required' | translate}}</div>
                <div *ngIf="addUpdateServiceForm.controls.instructions.errors.maxlength">{{'maximum_1000_characters_allowed' | translate}}</div>
              </div>
            </div> -->
          </div>
        </div>
        <div class="modal-footer border-0">
          <div class="container">
            <div class="form-row">
              <div class="form-group col-md-6 my-auto text-left">
                {{'fields_marked_with_star_is_required' | translate}}
              </div>
              <div class="form-group col-md-6 my-auto text-right">
                <button type="submit" [disabled]="serviceFormLoader" class="btn theme-btn mx-auto">
                  <span [ngClass]="{'spinner-border spinner-border-sm':serviceFormLoader}"></span> {{'save' |
                  translate}}
                </button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="modal fade actionModal" id="addBankModal" tabindex="-1" role="dialog" aria-labelledby="addBankModal"
  aria-hidden="true" data-backdrop="static">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content bg-white" [ngClass]="{'csspinner load1':bankFormLoader}">
      <div class="modal-header">
        <h4 class="modal-title">{{'add_bank' | translate}}</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form [formGroup]="addBankForm" (ngSubmit)="onSubmitAddBankForm()" #ngaddbankform="ngForm">
        <div class="modal-body">
          <div class="container">
            <div class="form-row">
              <div class="form-group col-md-6">
                <label>{{'bank_name' | translate}} <span class="symbol required"></span></label>
                <input type="text" class="form-control" placeholder="{{'bank_name' | translate}}"
                  formControlName="bank_name">
                <div class="invalid-feedback" *ngIf="addBankForm.controls.bank_name.invalid &&
                  (addBankForm.controls.bank_name.dirty || addBankForm.controls.bank_name.touched ||
                  ngaddbankform.submitted)">
                  <div *ngIf="addBankForm.controls.bank_name.errors.required">{{'this_field_is_required' | translate}}
                  </div>
                  <div *ngIf="addBankForm.controls.bank_name.errors.minlength">{{'minimum_2_characters_required' |
                    translate}}</div>
                  <div *ngIf="addBankForm.controls.bank_name.errors.maxlength">{{'maximum_100_characters_allowed' |
                    translate}}</div>
                </div>
              </div>
              <div class="form-group col-md-6">
                <label>{{'account_holder_name' | translate}} <span class="symbol required"></span></label>
                <input type="text" class="form-control" placeholder="{{'account_holder_name' | translate}}"
                  formControlName="account_holder_name">
                <div class="invalid-feedback"
                  *ngIf="addBankForm.controls.account_holder_name.invalid &&
                  (addBankForm.controls.account_holder_name.dirty || addBankForm.controls.account_holder_name.touched || ngaddbankform.submitted)">
                  <div *ngIf="addBankForm.controls.account_holder_name.errors.required">{{'this_field_is_required' |
                    translate}}</div>
                  <div *ngIf="addBankForm.controls.account_holder_name.errors.minlength">
                    {{'minimum_4_characters_required' | translate}}</div>
                  <div *ngIf="addBankForm.controls.account_holder_name.errors.maxlength">
                    {{'maximum_100_characters_allowed' | translate}}</div>
                </div>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label>{{'account_number' | translate}} <span class="symbol required"></span></label>
                <input type="text" class="form-control" placeholder="{{'account_number' | translate}}"
                  formControlName="account_number">
                <div class="invalid-feedback" *ngIf="addBankForm.controls.account_number.invalid &&
                  (addBankForm.controls.account_number.dirty || addBankForm.controls.account_number.touched ||
                  ngaddbankform.submitted)">
                  <div *ngIf="addBankForm.controls.account_number.errors.required">{{'this_field_is_required' |
                    translate}}</div>
                  <div *ngIf="addBankForm.controls.account_number.errors.minlength">{{'minimum_8_characters_required' |
                    translate}}</div>
                  <div *ngIf="addBankForm.controls.account_number.errors.maxlength">{{'maximum_20_characters_allowed' |
                    translate}}</div>
                </div>
              </div>
              <div class="form-group col-md-6">
                <label>{{'bank_code' | translate}} <span class="symbol required"></span></label>
                <input type="text" class="form-control" placeholder="{{'bank_code' | translate}}"
                  formControlName="bank_code">
                <div class="invalid-feedback" *ngIf="addBankForm.controls.bank_code.invalid &&
                  (addBankForm.controls.bank_code.dirty || addBankForm.controls.bank_code.touched ||
                  ngaddbankform.submitted)">
                  <div *ngIf="addBankForm.controls.bank_code.errors.required">{{'this_field_is_required' | translate}}
                  </div>
                  <div *ngIf="addBankForm.controls.bank_code.errors.minlength">{{'minimum_8_characters_required' |
                    translate}}</div>
                  <div *ngIf="addBankForm.controls.bank_code.errors.maxlength">{{'maximum_15_characters_allowed' |
                    translate}}</div>
                </div>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-md-12">
                <label>{{'default' | translate}} ? <span class="symbol required"></span></label>
                <div class="form-check">
                  <label class="cp form-check-label">
                    <input type="radio" class="form-check-input" formControlName="is_default" value="Yes"> {{'yes' |
                    translate}} <i class="input-helper"></i>
                  </label>
                </div>
                <div class="form-check">
                  <label class="cp form-check-label">
                    <input type="radio" class="form-check-input" formControlName="is_default" value="No"> {{'no' |
                    translate}} <i class="input-helper"></i>
                  </label>
                </div>
                <div class="invalid-feedback" *ngIf="addBankForm.controls.is_default.invalid &&
                  (addBankForm.controls.is_default.dirty || addBankForm.controls.is_default.touched ||
                  ngaddbankform.submitted)">
                  <div *ngIf="addBankForm.controls.is_default.errors.required">{{'this_field_is_required' | translate}}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer border-0">
          <div class="container">
            <div class="form-row">
              <div class="form-group col-md-6 my-auto text-left">
                {{'fields_marked_with_star_is_required' | translate}}
              </div>
              <div class="form-group col-md-6 text-right">
                <button type="submit" [disabled]="bankFormLoader" class="btn theme-btn mx-auto">
                  <span [ngClass]="{'spinner-border spinner-border-sm':bankFormLoader}"></span> {{'save' | translate}}
                </button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="modal fade actionModal" id="rejectDocumentFormModal" tabindex="-1" role="dialog"
  aria-labelledby="rejectDocumentFormModal" aria-hidden="true" data-backdrop="static">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content bg-white" [ngClass]="{'csspinner load1':rejectDocumentFormLoader}">
      <div class="modal-header">
        <h4 class="modal-title">{{'reject_document' | translate}}</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form [formGroup]="rejectDocumentForm" (ngSubmit)="submitRejectDocumentForm()" #ngrejectdocumentform="ngForm">
        <div class="modal-body">
          <div class="container">
            <div class="form-group">
              <p>{{'reason_for_reject' | translate}}</p>
            </div>
            <div class="form-group">
              <label>{{'reason' | translate}} <span class="symbol required"></span></label>
              <textarea class="form-control" formControlName="reason"></textarea>
              <div class="invalid-feedback"
                *ngIf="rejectDocumentForm.controls.reason.invalid &&
                (rejectDocumentForm.controls.reason.dirty || rejectDocumentForm.controls.reason.touched || ngrejectdocumentform.submitted)">
                <div *ngIf="rejectDocumentForm.controls.reason.errors.required">{{'this_field_is_required' | translate}}
                </div>
                <div *ngIf="rejectDocumentForm.controls.reason.errors.maxlength">{{'maximum_250_characters_allowed' |
                  translate}}</div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer border-0">
          <div class="container">
            <div class="form-row">
              <div class="form-group col-md-6 my-auto text-left">
                {{'fields_marked_with_star_is_required' | translate}}
              </div>
              <div class="form-group col-md-6 text-right">
                <button type="submit" [disabled]="rejectDocumentFormLoader" class="btn theme-btn mx-auto">
                  <span [ngClass]="{'spinner-border spinner-border-sm':rejectDocumentFormLoader}"></span> {{'submit' |
                  translate}}
                </button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>